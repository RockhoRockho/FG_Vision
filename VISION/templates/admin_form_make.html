{% extends "base.html" %}
{% load static %}

{% block title %}FG VISION {% endblock %}

{% block script %} 
<script language = "javascript">
    data = [];
    target = { "idx": 0, "x": 100, "y": 100, "w": 100, "h": 100 };
    // back_img = None
</script>
{% endblock %}



{% block contents %}
<!-- border border-primary 삭제하면 테두리 없어짐 -->
<div class="container border border-primary">
    <div class="container m-1 border border-primary">
        <div>
            <form action="{% url 'test' %}" method="post" id="data_form">
                {% csrf_token %}
                <div class="row p-1"> 
                    <div class="col col-1">양식이름 : </div>
                    <div class="col col-6">
                        <input type="text" name="data_title" class="form-control" value="title">
                    </div>
                </div>
                <input type="hidden" name="data_file" id="data_file">
            </form>
        </div>
    </div>
    <div class="container m-1 d-flex justify-content-around border border-primary">
        <div class="container w-50 m-3 border border-primary">
            좌표값 입력 부분(일정크기 넘어가면 세로 스크롤)
            <div class="container">
                <!-- 테이블 -->
                <table class="table m-1 table-hover" id="data-table">
                    <thead>
                        <tr>
                            <td>label</td>
                            <td>x</td>
                            <td>y</td>
                            <td>w</td>
                            <td>h</td>
                            <td>삭제</td>
                        </tr>
                    </thead>
                    <tbody id="data_tr">
                        {% for box in boxData %}
                        <tr class="data_box" value="{{forloop.counter0}}" onclick="clickTr(this)">
                            <td><input type="text" class="form-control" value="{{box.label}}"></td>
                            <td><input type="number" class="form-control" value="{{box.x}}"></td>
                            <td><input type="number" class="form-control" value="{{box.y}}"></td>
                            <td><input type="number" class="form-control" value="{{box.w}}"></td>
                            <td><input type="number" class="form-control" value="{{box.h}}"></td>
                            <td><button class="btn btn-light del_tr" value="{{forloop.counter0}}" onclick="delTabelData(this.value)">del</button></td>
                        </tr>
                        <script> data.push(JSON.parse('{{box}}'.replace(/&#x27;/g, '\"'))); </script>
                        {% endfor %}
                        <tr>
                            <td colspan="6" class="text-center">
                                <button class="btn btn-light" id="plus_tr" onclick="createTableData()">plus</button>
                            </td>
                        </tr>
                    </tbody>
                </table>
                <div class="m-1">
                    <div class=" d-grid gap-2">
                        <button class="btn btn-primary" id="table_submit">적용</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="container w-50 m-3 border border-primary">
            <canvas id="p-canvas" class="m-1 border border-primary" width="420" height="594"></canvas>
        </div>
    </div>
    <div class="container m-1 border border-primary">
        <div class="d-grid gap-2">
            <button class="btn btn-primary" id="submit_btn" onclick="submitBtn()">양식 최종추가</button>
        </div>
    </div>
</div>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script src="{% static 'js/form_make.js' %}"></script>
<br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
{% endblock %}


{% block footer %}

{% endblock %}